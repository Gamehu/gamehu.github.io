<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/IMG_4038-32.jpeg">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/IMG_4038.jpeg">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"www.gamehu.run","root":"/","images":"/images","scheme":"Mist","darkmode":false,"version":"8.12.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="10年经验Java开发者，精通React，熟悉Python、Docker、Vue及Go">
<meta property="og:type" content="website">
<meta property="og:title" content="正儿八经 - 资深Java&#x2F;React工程师">
<meta property="og:url" content="https://www.gamehu.run/page/7/index.html">
<meta property="og:site_name" content="正儿八经 - 资深Java&#x2F;React工程师">
<meta property="og:description" content="10年经验Java开发者，精通React，熟悉Python、Docker、Vue及Go">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Gamehu">
<meta property="article:tag" content="Java开发, React工程师, 全栈开发, 求职, 软件工程师">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://www.gamehu.run/page/7/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/7/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>正儿八经 - 资深Java/React工程师</title>
  




<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/ilyabirman-likely@2/release/likely.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.css"><style>
#needsharebutton-postbottom {
  cursor: pointer;
  height: 26px;
  margin-top: 10px;
  position: relative;
}
#needsharebutton-postbottom .btn {
  border: 1px solid $btn-default-border-color;
  border-radius: 3px;
  display: initial;
  padding: 1px 4px;
}
</style>
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">正儿八经 - 资深Java/React工程师</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">浪起来？技术博客与求职信息</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="archive fa-fw"></i>归档</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Gamehu"
      src="/images/IMG_4038.jpeg">
  <p class="site-author-name" itemprop="name">Gamehu</p>
  <div class="site-description" itemprop="description">10年经验Java开发者，精通React，熟悉Python、Docker、Vue及Go</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">191</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">30</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">113</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/gamehu" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;gamehu" rel="noopener" target="_blank"><i class="github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:gamehu520@gmail.com" title="E-Mail → mailto:gamehu520@gmail.com" rel="noopener" target="_blank"><i class="envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/gamehu/gamehu.github.io" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.gamehu.run/2021/07/19/Event-loops/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/IMG_4038.jpeg">
      <meta itemprop="name" content="Gamehu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正儿八经 - 资深Java/React工程师">
      <meta itemprop="description" content="10年经验Java开发者，精通React，熟悉Python、Docker、Vue及Go">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 正儿八经 - 资深Java/React工程师">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/19/Event-loops/" class="post-title-link" itemprop="url">Event loops</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-07-19 16:35:00" itemprop="dateCreated datePublished" datetime="2021-07-19T16:35:00+08:00">2021-07-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%B5%8F%E8%A7%88%E5%99%A8/" itemprop="url" rel="index"><span itemprop="name">浏览器</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><a target="_blank" rel="noopener" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-loops">https://html.spec.whatwg.org/multipage/webappapis.html#event-loops</a></p>
<p><a target="_blank" rel="noopener" href="https://www.w3.org/TR/DOM-Level-3-Events/#event-flow">https://www.w3.org/TR/DOM-Level-3-Events/#event-flow</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.gamehu.run/2021/07/14/%E5%86%99%E9%AB%98%E6%95%88%E7%8E%87%E7%9A%84css/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/IMG_4038.jpeg">
      <meta itemprop="name" content="Gamehu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正儿八经 - 资深Java/React工程师">
      <meta itemprop="description" content="10年经验Java开发者，精通React，熟悉Python、Docker、Vue及Go">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 正儿八经 - 资深Java/React工程师">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/14/%E5%86%99%E9%AB%98%E6%95%88%E7%8E%87%E7%9A%84css/" class="post-title-link" itemprop="url">怎么写高效的css</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-07-14 17:56:00" itemprop="dateCreated datePublished" datetime="2021-07-14T17:56:00+08:00">2021-07-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><a target="_blank" rel="noopener" href="https://thenextweb.com/news/writing-efficient-css-understand-your-selectors">https://thenextweb.com/news/writing-efficient-css-understand-your-selectors</a><br><a target="_blank" rel="noopener" href="https://programmerinnervoice.wordpress.com/2013/12/18/how-does-browser-read-css-selector/">https://programmerinnervoice.wordpress.com/2013/12/18/how-does-browser-read-css-selector/</a><br><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/5797014/why-do-browsers-match-css-selectors-from-right-to-leftt">https://stackoverflow.com/questions/5797014/why-do-browsers-match-css-selectors-from-right-to-leftt</a></p>
<p>Don’t Use Inline-Styles</p>
<p>Avoid the !important tag</p>
<p><a target="_blank" rel="noopener" href="https://www.freecodecamp.org/news/7-important-tips-for-writing-better-css/">https://www.freecodecamp.org/news/7-important-tips-for-writing-better-css/</a></p>
<p><a target="_blank" rel="noopener" href="https://csswizardry.com/2011/09/writing-efficient-css-selectors/">https://csswizardry.com/2011/09/writing-efficient-css-selectors/</a></p>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=Qhaz36TZG5Y">https://www.youtube.com/watch?v=Qhaz36TZG5Y</a></p>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=iHEkRIF7zxI">https://www.youtube.com/watch?v=iHEkRIF7zxI</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.gamehu.run/2021/07/09/ES2020-2021/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/IMG_4038.jpeg">
      <meta itemprop="name" content="Gamehu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正儿八经 - 资深Java/React工程师">
      <meta itemprop="description" content="10年经验Java开发者，精通React，熟悉Python、Docker、Vue及Go">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 正儿八经 - 资深Java/React工程师">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/09/ES2020-2021/" class="post-title-link" itemprop="url">ES2020/2021</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-07-09 10:42:00" itemprop="dateCreated datePublished" datetime="2021-07-09T10:42:00+08:00">2021-07-09</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index"><span itemprop="name">学习</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>今天看阮老师的科技周刊的时候，里头提到了ES2021（作者默认所有的提案最终都会被通过），正好借此梳理一下，ES2020和ES2021，个人使用过的以及后续可能会使用的一些功能，所以这篇不是科普类型，纯属个人喜好的记录。</p>
<h3 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h3><h5 id="空值合并运算符："><a href="#空值合并运算符：" class="headerlink" title="空值合并运算符：??"></a>空值合并运算符：??</h5><blockquote>
<p>**??**是一个逻辑操作符，当左侧的操作数为 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/null"><code>null</code></a> 或者 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/undefined"><code>undefined</code></a> 时，则返回右侧操作数，否则返回左侧操作数。所以该运算符完美适配默认值的场景。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> foo = <span class="literal">null</span> ?? <span class="string">&#x27;default string&#x27;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(foo);</span><br><span class="line"><span class="comment">// expected output: &quot;default string&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> baz = <span class="number">0</span> ?? <span class="number">42</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(baz);</span><br><span class="line"><span class="comment">// expected output: 0</span></span><br></pre></td></tr></table></figure>

<p>多说一句：</p>
<blockquote>
<p>设置默认值以前常用的是：**||**（逻辑或操作符），但是都知道不用用它作为有false和0的情况（因为||**判断时，会把值转换为布尔值，而false和0转为布尔值时都是false，所以对于数字类型和布尔类型的用||设置默认值是不合理的+）</p>
</blockquote>
<h5 id="可选的链接运算符："><a href="#可选的链接运算符：" class="headerlink" title="可选的链接运算符：?."></a>可选的链接运算符：?.</h5><blockquote>
<p>嵌套对象时特别好用。表达式还短。</p>
<p>如果引用为空（null 或 undefined），则表达式会短路返回 undefined。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">if</span>( a &amp;&amp; a.<span class="property">b</span>  &amp;&amp; a.<span class="property">b</span>.<span class="property">c</span>)&#123;</span><br><span class="line">    <span class="comment">//do something...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//可换成：</span></span><br><span class="line"><span class="keyword">if</span>( a?.<span class="property">b</span>?c)&#123;</span><br><span class="line">    <span class="comment">//do something...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> a=&#123;&#125;</span><br><span class="line"><span class="keyword">const</span> test=a?.<span class="property">b</span>?.<span class="property">c</span></span><br><span class="line"><span class="comment">// expected output: undefined</span></span><br></pre></td></tr></table></figure>

<h5 id="Promise-any-and-AggregateError"><a href="#Promise-any-and-AggregateError" class="headerlink" title="Promise.any() and AggregateError"></a>Promise.any() and AggregateError</h5><p><code>Promise.any()</code>方法接受一组 Promise 实例作为参数，包装成一个新的 Promise 实例。只要参数实例有一个变成<code>fulfilled</code>状态，包装实例就会变成<code>fulfilled</code>状态；如果所有参数实例都变成<code>rejected</code>状态，包装实例就会变成<code>rejected</code>状态</p>
<p><a target="_blank" rel="noopener" href="https://www.bookstack.cn/read/es6-3rd/spilt.9.docs-promise.md">阮一峰 ECMAScript 6 (ES6) 标准入门教程 第三版</a></p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/61732049/what-is-the-difference-between-promise-any-and-promise-race">Promise.race和Promise.any</a></p>
<p><code>Promise.any()</code>跟<code>Promise.race()</code>方法很像，只有一点不同，就是不会因为某个 Promise 变成<code>rejected</code>状态而结束。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Promise</span>.<span class="title function_">race</span>([</span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> <span class="built_in">setTimeout</span>(reject, <span class="number">200</span>, <span class="string">&#x27;Third&#x27;</span>)),</span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> <span class="built_in">setTimeout</span>(resolve, <span class="number">1000</span>, <span class="string">&#x27;Second&#x27;</span>)),</span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> <span class="built_in">setTimeout</span>(resolve, <span class="number">2000</span>, <span class="string">&#x27;First&#x27;</span>)),</span><br><span class="line">])</span><br><span class="line">.<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Result: <span class="subst">$&#123;value&#125;</span>`</span>))</span><br><span class="line">.<span class="property">catch</span> (<span class="function"><span class="params">err</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(err))</span><br><span class="line"><span class="comment">// expected output: Third</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">any</span>([</span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> <span class="built_in">setTimeout</span>(reject, <span class="number">200</span>, <span class="string">&#x27;Third&#x27;</span>)),</span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> <span class="built_in">setTimeout</span>(resolve, <span class="number">1000</span>, <span class="string">&#x27;Second&#x27;</span>)),</span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> <span class="built_in">setTimeout</span>(resolve, <span class="number">2000</span>, <span class="string">&#x27;First&#x27;</span>)),</span><br><span class="line">])</span><br><span class="line">.<span class="title function_">then</span>(<span class="function"><span class="params">value</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Result: <span class="subst">$&#123;value&#125;</span>`</span>))</span><br><span class="line">.<span class="property">catch</span> (<span class="function"><span class="params">err</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(err))</span><br><span class="line"><span class="comment">// expected output: Second</span></span><br></pre></td></tr></table></figure>

<h5 id="globalThis"><a href="#globalThis" class="headerlink" title="globalThis"></a>globalThis</h5><p>全局属性 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/globalThis"><code>globalThis</code></a> 包含全局的 <code>this</code> 值，类似于全局对象（global object）。<code>globalThis</code> 提供了一个标准的方式来获取不同环境下的全局 <code>this</code> 对象（也就是全局对象自身）不用在考虑不同的环境获取方式不一样的问题。</p>
<h5 id="String-replaceAll"><a href="#String-replaceAll" class="headerlink" title="String replaceAll()"></a>String replaceAll()</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const newStr = str.replaceAll(regexp|substr, newSubstr|function).</span><br><span class="line">// 当使用一个 `regex`时，您必须设置全局（“ g”）标志</span><br></pre></td></tr></table></figure>

<p><strong><code>replaceAll(pattern,replacement)</code></strong> 方法返回一个新字符串，新字符串所有满足 <code>pattern</code> 的部分都已被<code>replacement</code> 替换。<code>pattern</code>可以是一个字符串或一个 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp"><code>RegExp</code></a>， <code>replacement</code>可以是一个字符串或一个在每次匹配被调用的函数。</p>
<p> <strong>old：</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> str = <span class="string">&quot;zhangsan is wangmazi&#x27;s 舅子,wangmazi is zhangsan&#x27;s 妹夫&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> newStr = str.<span class="title function_">replace</span>(<span class="string">&quot;is&quot;</span>, <span class="string">&quot;isn&#x27;t&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newStr); </span><br><span class="line"><span class="comment">// expected output:zhangsan isn&#x27;t wangmazi&#x27;s 舅子,wangmazi is zhangsan&#x27;s 妹夫</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 替换所有,只能用正则</span></span><br><span class="line"><span class="keyword">const</span> newStr = str.<span class="title function_">replace</span>(<span class="regexp">/is/g</span>, <span class="string">&quot;isn&#x27;t&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newStr);</span><br><span class="line"><span class="comment">//expected output: zhangsan isn&#x27;t wangmazi&#x27;s 舅子,wangmazi isn&#x27;t zhangsan&#x27;s 妹夫</span></span><br></pre></td></tr></table></figure>

<p><strong>new:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> str = <span class="string">&quot;zhangsan is wangmazi&#x27;s 舅子,wangmazi is zhangsan&#x27;s 妹夫&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> newStr = str.<span class="title function_">replaceAll</span>(<span class="string">&quot;is&quot;</span>, <span class="string">&quot;isn&#x27;t&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newStr); </span><br><span class="line"><span class="comment">// expected output: zhangsan isn&#x27;t wangmazi&#x27;s 舅子,wangmazi isn&#x27;t zhangsan&#x27;s 妹夫</span></span><br></pre></td></tr></table></figure>



<h5 id="逻辑赋值运算符：-amp-amp-x3D-x3D-x3D"><a href="#逻辑赋值运算符：-amp-amp-x3D-x3D-x3D" class="headerlink" title="逻辑赋值运算符：(&amp;&amp;&#x3D; ||&#x3D; ??&#x3D;)"></a>逻辑赋值运算符：(&amp;&amp;&#x3D; ||&#x3D; ??&#x3D;)</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">x ||= y;</span><br><span class="line"><span class="comment">// 等同</span></span><br><span class="line">x || (x = y);</span><br><span class="line"> </span><br><span class="line">x &amp;&amp;= y;</span><br><span class="line"><span class="comment">// 等同</span></span><br><span class="line">x &amp;&amp; (x = y); </span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line"><span class="keyword">if</span>(x) &#123;</span><br><span class="line">  x = y</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">x ??= y;</span><br><span class="line"><span class="comment">// 等同</span></span><br><span class="line">x ?? (x = y);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 比如</span></span><br><span class="line"><span class="keyword">let</span> x = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> y = <span class="number">2</span>;</span><br><span class="line">x &amp;&amp;= y;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x); </span><br><span class="line"><span class="comment">//expected output: 2</span></span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<h5 id="下划线作为数字分隔符"><a href="#下划线作为数字分隔符" class="headerlink" title="下划线作为数字分隔符"></a>下划线作为数字分隔符</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> billion = <span class="number">1000_000_000</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(billion); </span><br><span class="line"><span class="comment">//expected output:1000000000</span></span><br><span class="line"><span class="keyword">const</span> trillion = <span class="number">1000_000_000_000n</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(trillion.<span class="title function_">toString</span>()); </span><br><span class="line"><span class="comment">//expected output: &quot;1000000000000&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1000_000_000</span> === <span class="number">1000000000</span>); </span><br><span class="line"><span class="comment">//expected output: true</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://backbencher.dev/javascript/numeric-separators">了解更多</a></p>
<h5 id="Promise-allSettled"><a href="#Promise-allSettled" class="headerlink" title="Promise.allSettled"></a>Promise.allSettled</h5><p>我通常在页面初始化需要多个数据且相互之间又没联系的时候会用它。</p>
<blockquote>
<p>**Promise.allSettled()**方法接受一组Promise 实例作为参数，包装成一个新的 Promise 实例。只有等到所有这些参数实例都返回结果（不管是<code>fulfilled</code>还是<code>rejected</code>），返回结果是一个对象数组，每个对象表示对应的promise结果。</p>
<p>当有多个彼此不依赖的异步任务成功完成时，或者我们不关心异步操作的结果，只关心每个<code>promise</code>的结果时，通常使用它。</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> <span class="built_in">setTimeout</span>(resolve, <span class="number">1000</span>,<span class="string">&#x27;failed&#x27;</span>));</span><br><span class="line"><span class="keyword">const</span> p2 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> <span class="built_in">setTimeout</span>(reject, <span class="number">2000</span>,<span class="string">&#x27;a&#x27;</span>));</span><br><span class="line"><span class="keyword">const</span> p3 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> <span class="built_in">setTimeout</span>(resolve, <span class="number">3000</span>,<span class="string">&#x27;b&#x27;</span>));</span><br><span class="line"><span class="comment">// 返回值对象：fulfilled时，对象有value属性，rejected时有reason属性</span></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">allSettled</span>([p1, p2, p3]).<span class="title function_">then</span>(<span class="function"><span class="params">values</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(values));</span><br><span class="line"></span><br><span class="line"><span class="comment">//expected output: Array</span></span><br><span class="line"><span class="comment">// 0: &#123;status: &quot;fulfilled&quot;, value: &quot;failed&quot;&#125;</span></span><br><span class="line"><span class="comment">// 1: &#123;status: &quot;rejected&quot;, reason: &quot;a&quot;&#125;</span></span><br><span class="line"><span class="comment">// 2: &#123;status: &quot;fulfilled&quot;, value: &quot;b&quot;&#125;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>相比之下，<code>Promise.all()</code> 更适合彼此相互依赖或者在其中任何一个<code>reject</code>时就需要立即结束的场景。即<code>Promise.all()</code> 其实无法确定所有请求都结束。</p>
</blockquote>
<h4 id="参考资料："><a href="#参考资料：" class="headerlink" title="参考资料："></a>参考资料：</h4><p><a target="_blank" rel="noopener" href="https://github.com/tc39/ecma262/releases">https://github.com/tc39/ecma262/releases</a></p>
<p><a target="_blank" rel="noopener" href="https://backbencher.dev/javascript/es2021-new-features">https://backbencher.dev/javascript/es2021-new-features</a></p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzUxMzcxMzE5Ng==&mid=2247494289&idx=2&sn=d8a0ef1443954b7a5bae79ec90411cbd&chksm=f9525fd2ce25d6c4f1d1ac2ab8ce6b7034f68f484881a3548549648dfe5aedd427c7b930385b&scene=21#wechat_redirect">https://mp.weixin.qq.com/s?__biz=MzUxMzcxMzE5Ng==&amp;mid=2247494289&amp;idx=2&amp;sn=d8a0ef1443954b7a5bae79ec90411cbd&amp;chksm=f9525fd2ce25d6c4f1d1ac2ab8ce6b7034f68f484881a3548549648dfe5aedd427c7b930385b&amp;scene=21#wechat_redirect</a></p>
<p><a target="_blank" rel="noopener" href="https://tc39.es/ecma262/2021/#sec-web-scripting">https://tc39.es/ecma262/2021/#sec-web-scripting</a></p>
<p><a target="_blank" rel="noopener" href="https://www.telerik.com/blogs/learn-new-features-introduced-javascript-es2021">https://www.telerik.com/blogs/learn-new-features-introduced-javascript-es2021</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.fundebug.com/2019/08/28/javascript-nullish-coalescing/">https://blog.fundebug.com/2019/08/28/javascript-nullish-coalescing/</a></p>
<p><code>本文引用的内容，如有侵权请联系我删除，给您带来的不便我很抱歉。</code></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.gamehu.run/2021/07/06/You-are-worrying-about-the-wrong-thing-if-you-re-trying-to-learn-it-all/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/IMG_4038.jpeg">
      <meta itemprop="name" content="Gamehu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正儿八经 - 资深Java/React工程师">
      <meta itemprop="description" content="10年经验Java开发者，精通React，熟悉Python、Docker、Vue及Go">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 正儿八经 - 资深Java/React工程师">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/06/You-are-worrying-about-the-wrong-thing-if-you-re-trying-to-learn-it-all/" class="post-title-link" itemprop="url">You're worrying about the wrong thing if you're trying to learn it all</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-07-06 11:40:00" itemprop="dateCreated datePublished" datetime="2021-07-06T11:40:00+08:00">2021-07-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%9D%82%E8%B0%88/" itemprop="url" rel="index"><span itemprop="name">杂谈</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>别想着记住所有东西<br><a target="_blank" rel="noopener" href="https://www.kevinpowell.co/article/youre-worrying-about-the-wrong-things/">https://www.kevinpowell.co/article/youre-worrying-about-the-wrong-things/</a><br><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=vP2MNhC_Igw">https://www.youtube.com/watch?v=vP2MNhC_Igw</a></p>
<p>为了成为一名前端开发人员，我们需要学习一百万零一件事，似乎每 30 秒就有另一件新东西需要我们添加到我们的武器库中。</p>
<p>学习新事物可能很有趣，但是当我们需要学习的新事物清单似乎不断增加时，它可能会让人不知所措。</p>
<p>还有一个大问题。当我们离开学习所有这些新东西时，我们他妈的怎么能记住我们已经学过的所有东西？</p>
<p>我经常被问到，通过 DM 或来自追随者的电子邮件，或者有时作为 YouTube 评论，询问记住所有内容的最佳策略。</p>
<p>事实是，我什么都不记得。我记得一些东西是因为我一直在使用它们，并且因为我主要关注 CSS。我使用它们的次数越多，与它们相处得越好，与它们相处的乐趣也就越多。但我不记得一切。</p>
<p>事实上，它甚至不接近。</p>
<h2 id="这都是一个大谎言"><a href="#这都是一个大谎言" class="headerlink" title="这都是一个大谎言"></a>这都是一个大谎言</h2><p>当您观看我的 YouTube 视频或其他人编写代码时，似乎我无所不知。然后下周我发布了一个关于新主题的新视频，我也知道！</p>
<p>我当然是了！我已经把它写好了，而且我之前已经建立了那个东西。</p>
<p>大多数情况下，有关编码的视频和课程中的人们只是从其他屏幕上的已完成版本中复制代码。</p>
<p>事情需要计划好！否则，课程的质量将很糟糕。</p>
<p>但它确实给人一种错误的感觉，即那里的“专业人士”知道并记住一切。</p>
<h2 id="没有人记得这一切"><a href="#没有人记得这一切" class="headerlink" title="没有人记得这一切"></a>没有人记得这一切</h2><p>我喜欢听关于开发的播客的原因之一是当你仰望的人谈论他们是如何忘记事情的时候，或者不得不查找事情的时候（有时是我非常了解的事情！）。</p>
<p>不断在<a target="_blank" rel="noopener" href="https://shoptalkshow.com/">ShopTalk Show 上</a>，他们的名字出现了，我非常尊重，他们谈论他们如何必须为他们写的一本书研究某些东西，然后发现自己不得不阅读他们自己书中的部分内容记住它是如何工作的。</p>
<p>我可以理解这一点，<strong>我确实看过我自己视频的一部分来记住如何做某些事情</strong>。</p>
<p>我知道这是我以前知道的东西（毕竟我确实制作了一个视频！），但是因为我有一段时间没有使用那个东西了，也许即使我制作了那个视频，我也不记得到底是怎么回事它不再起作用了！</p>
<p>这是正常的。</p>
<p>而且我认为重要的是要知道我们不应该记住所有内容。</p>
<h2 id="这不是要记住所有内容，而是要知道解决方案存在"><a href="#这不是要记住所有内容，而是要知道解决方案存在" class="headerlink" title="这不是要记住所有内容，而是要知道解决方案存在"></a>这不是要记住所有内容，而是要知道解决方案存在</h2><p>CSS 中有很多小技巧和窍门，很多很酷的小功能，我无法记住它们是如何工作的，或者说，它们甚至都叫什么！</p>
<p>但是出现了一些事情，而不是想“嗯，我不知道我可以在这里做什么”，而是“哦，我知道有这个东西可以帮助解决这个问题”，然后我立即研究它是什么。也许这是我看到一篇文章或视频的东西，或者也许是我过去使用过的东西，只是忘记了它是如何工作的。</p>
<p>这不是要记住一切是如何运作的。你永远不会那样做。相反，它是关于知道解决方案存在。</p>
<p>你做的事情越多，你越需要使用这些晦涩的功能，你就越会记住它们是如何工作的。然后你将不会使用它 6 个月，你会完全忘记。</p>
<p>这很好。</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.gamehu.run/2021/06/21/%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6%E7%9A%84%E7%89%88%E6%9C%AC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/IMG_4038.jpeg">
      <meta itemprop="name" content="Gamehu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正儿八经 - 资深Java/React工程师">
      <meta itemprop="description" content="10年经验Java开发者，精通React，熟悉Python、Docker、Vue及Go">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 正儿八经 - 资深Java/React工程师">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/06/21/%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6%E7%9A%84%E7%89%88%E6%9C%AC/" class="post-title-link" itemprop="url">开源软件的版本</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-21 14:55:00" itemprop="dateCreated datePublished" datetime="2021-06-21T14:55:00+08:00">2021-06-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E9%9A%8F%E7%AC%94/" itemprop="url" rel="index"><span itemprop="name">随笔</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <img src="/2021/06/21/%E5%BC%80%E6%BA%90%E8%BD%AF%E4%BB%B6%E7%9A%84%E7%89%88%E6%9C%AC/a.jpg" class="" title="Photo by athree23 on Pixabay">

<p>这两天不是React 18[1] duang的一下炸了吗？刚好在了解的过程中看到了React工作组的发布计划[2]</p>
<p>个人觉得是写的很清晰，把不同阶级的版本都进行了说明，在这儿简单说一下每种版本代号的含义。</p>
<h3 id="Apha"><a href="#Apha" class="headerlink" title="Apha"></a>Apha</h3><p>内部测试版，主要是针对社区内部人员发布的。α是希腊字母的第一个，表示最早的版本，一般不建议下载这个版本，这个版本包含很多BUG，功能也不全，因为主要是给开发人员和测试人员测试和找BUG用的。</p>
<h3 id="Beta"><a href="#Beta" class="headerlink" title="Beta"></a>Beta</h3><p>公开测试版。β是希腊字母的第二个，顾名思义，这个版本在alpha版之后，主要是给一些相关的社区以及忠实的用户测试用的，该版将包含最终版本的所有重大更改和新功能，但是仍然存在一些未发现的BUG，但是相对alpha版要稳定一些。所以还是为了收到反馈并发现任何遗留问题。</p>
<p>如果是负责基础能力的代码大哥们，实在着急的可以开始使用这个版本，主要是测试一下新功能以及升级方面的问题，提前入场准备。</p>
<h3 id="RC"><a href="#RC" class="headerlink" title="RC"></a>RC</h3><p>Release Candidate（候选版本），该版本不会再有新增的功能，所以是最接近最终版的版本。该版本的功能已经比较完整和稳定，rc的发布标志着最终版即将到来，rc主要是收集一下版本的稳定性以及用户满意度方面的数据。</p>
<p>这个版本其实一般用户可以下场练手了。</p>
<h3 id="Stable"><a href="#Stable" class="headerlink" title="Stable"></a>Stable</h3><p>稳定版。这个就是最终发行版，你可以在里面遨游了。</p>
<h3 id="References"><a href="#References" class="headerlink" title="References"></a>References</h3><p><code>[1]</code> React 18 介绍: <em><a target="_blank" rel="noopener" href="https://github.com/reactwg/react-18/discussions/4">https://github.com/reactwg/react-18/discussions/4</a></em><br><code>[2]</code> React 18发布计划: <em><a target="_blank" rel="noopener" href="https://github.com/reactwg/react-18/discussions/9">https://github.com/reactwg/react-18/discussions/9</a></em></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.gamehu.run/2021/06/21/page-lifecycle-api/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/IMG_4038.jpeg">
      <meta itemprop="name" content="Gamehu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正儿八经 - 资深Java/React工程师">
      <meta itemprop="description" content="10年经验Java开发者，精通React，熟悉Python、Docker、Vue及Go">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 正儿八经 - 资深Java/React工程师">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/06/21/page-lifecycle-api/" class="post-title-link" itemprop="url">page-lifecycle-api</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-21 09:46:00" itemprop="dateCreated datePublished" datetime="2021-06-21T09:46:00+08:00">2021-06-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>最近又把前端监控的兴趣提了起来，学习过程中了解到了google的page-lifecycle-api，特此做个记录撒。</p>
<p><a target="_blank" rel="noopener" href="https://developers.google.com/web/updates/2018/07/page-lifecycle-api">https://developers.google.com/web/updates/2018/07/page-lifecycle-api</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/GoogleChromeLabs/page-lifecycle">https://github.com/GoogleChromeLabs/page-lifecycle</a></p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/sbmUPOQ8a5ffFPEuMzY79w">https://mp.weixin.qq.com/s/sbmUPOQ8a5ffFPEuMzY79w</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.gamehu.run/2021/06/08/npm%E7%89%88%E6%9C%AC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/IMG_4038.jpeg">
      <meta itemprop="name" content="Gamehu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正儿八经 - 资深Java/React工程师">
      <meta itemprop="description" content="10年经验Java开发者，精通React，熟悉Python、Docker、Vue及Go">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 正儿八经 - 资深Java/React工程师">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/06/08/npm%E7%89%88%E6%9C%AC/" class="post-title-link" itemprop="url">npm版本锁定</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-08 10:53:00" itemprop="dateCreated datePublished" datetime="2021-06-08T10:53:00+08:00">2021-06-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E4%BD%9C/" itemprop="url" rel="index"><span itemprop="name">工作</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>源起于同事找我帮忙排查一个认为诡异的问题。</p>
<p>同样的代码，同样的package.json本地和流水线部署效果不一样。问我可能是什么原因，我当时想到的可能就两种情况：</p>
<ol>
<li>依赖包的版本不一样</li>
<li>流水线本身存在问题，比如没有拉到最新的代码？</li>
</ol>
<p>我简单提供用排除法的思路让她走了一遍，排除了不是最新代码的问题，然后让其对比了一下pacage-lock.json文件，的确发现了依赖包的版本变了，当手动在package.json锁死了本地使用的版本号之后，再执行部署则没有问题。</p>
<p>所以最终问题出在package-lock.json上，那为什么package-lock.json每次跑流水线的时候都会变化呢，是因为流水线脚本里部署前端时脚本里会有：</p>
<blockquote>
<p>1.npm clean </p>
<p>2.rm- rf node_modules  </p>
<p>3.npm i …等步骤</p>
</blockquote>
<p>所以导致每次会更新package-lock.json，那我们提交的package-lock.json就失去了它的价值，即可能每次CI都会有不同版本的包依赖。</p>
<p>经过这次的排查，遂记录一下锁包的个人理解。</p>
<h3 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h3><h4 id="package-lock-json"><a href="#package-lock-json" class="headerlink" title="package-lock.json"></a>package-lock.json</h4><p>npm 关于<a target="_blank" rel="noopener" href="https://docs.npmjs.com/cli/v7/configuring-npm/package-lock-json/">package-lock.json</a>的解释说的挺清楚了。主要作用锁定（描述）包依赖关系及其子依赖项。保证对其他开发人员或其他环境安装包的依赖关系一致。</p>
<p>如图：eslint-plugin-react依赖树</p>
<img src="/2021/06/08/npm%E7%89%88%E6%9C%AC/b.png" class="">

<blockquote>
<p>修改node_modules或package.json将自动生成package-lock.json。 它描述了包版本的<strong>依赖树</strong>，使得后续可以保证无论在哪儿安装能够生成相同的依赖树（也就是相同的包版本），而不管中间依赖性更新如何。</p>
<p>每当我们运行更改依赖项的NPM命令时，如npm i <package>或npm uninstall <package>或npm i 等，都将更新包锁定即更新package-lock.json文件。</p>
<p>所以每次提交时必须把package-lock.json也提交到git。</p>
<p>执行npm i 时会读取根据package.json创建的依赖项列表，并使用package-lock.json来通知哪些版本的这些依赖项需要安装。 如果依赖项不在package-lock.json中，它将通过npm i 添加。</p>
</blockquote>
<p>根据上面总结的信息，我理解解决上述问题的其中一个方案就是每次CI的时候只需要拉代码之后再<strong>npm i</strong> 即可，从而保持依赖一致。</p>
<h4 id="npm-ci"><a href="#npm-ci" class="headerlink" title="npm ci"></a>npm ci</h4><p>在深入了解package-lock.json的过程中，<strong>npm ci</strong>进入了我的视线，详见<a target="_blank" rel="noopener" href="https://docs.npmjs.com/cli/v7/commands/npm-ci">npm ci</a>。</p>
<p><strong>npm ci</strong>（ci：持续集成）直接从package-lock.json安装依赖关系，并使用package.json验证是否存在不匹配的版本。 如果缺少任何依赖项或具有不兼容的版本，则会抛出错误。 </p>
<p>因为npm ci是基于package-lock.json进行安装，所以就体现了该命令在包一致性上的作用，在需要重复构建、持续集成等场景下好用。</p>
<img src="/2021/06/08/npm%E7%89%88%E6%9C%AC/a.png" class="">

<h6 id="前提："><a href="#前提：" class="headerlink" title="前提："></a>前提：</h6><blockquote>
<p>必须有package-lock.json文件，即项目第一次初始安装时不能用npm ci，这也说明了为什么上面章节谈到package-lock.json也需要提交到git，这也是原因之一。</p>
</blockquote>
<p>所以另一个方案就是每次CI的时候只需要拉代码之后再<strong>npm ci</strong> 即可，也可保持依赖一致（前提是package.json、package-lock.json每次都进行了同步提交）。</p>
<h4 id="npm-i-vs-npm-ci"><a href="#npm-i-vs-npm-ci" class="headerlink" title="npm i vs npm ci"></a>npm i vs npm ci</h4><ol>
<li>npm ci不会更新package-lock.json和package.json，即npm ci 不能更新依赖。</li>
<li>npm ci必须基于package-lock.json。</li>
<li>一般情况下npm ci安装速度会更快。npm ci时如果存在node_modules则会先删除node_modules。</li>
<li>初始安装以及更新依赖时，只能使用npm i。</li>
</ol>
<h4 id="另一个问题：咋个解决package-lock-json冲突"><a href="#另一个问题：咋个解决package-lock-json冲突" class="headerlink" title="另一个问题：咋个解决package-lock.json冲突"></a>另一个问题：咋个解决package-lock.json冲突</h4><p>这是一个延申出来的问题，因为需要提交package-lock.json，由于一些原因就可能出现冲突的情况，那咋解决呢？</p>
<ol>
<li>最好别上来就先删除package-lock.json，人是自动生成的没必要跟它较劲。从基线上拉一个package-lock.json文件下来。</li>
<li>处理package.json的冲突。</li>
<li>执行npm i。</li>
</ol>
<h4 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h4><blockquote><footer><strong>Solving conflicts in package-lock.json</strong><cite><a target="_blank" rel="noopener" href="https://tkdodo.eu/blog/solving-conflicts-in-package-lock-json">tkdodo.eu/blog/solving-conflicts-in-package-lock-json</a></cite></footer></blockquote>

<blockquote><footer><strong>difference-between-npm-install-and-npm-ci</strong><cite><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/52499617/what-is-the-difference-between-npm-install-and-npm-ci">stackoverflow.com/questions/52499617/what-is-the-difference-between-npm-install-and-npm-ci</a></cite></footer></blockquote>



<p><code>本文引用的内容，如有侵权请联系我删除，给您带来的不便我很抱歉。</code></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.gamehu.run/2021/06/04/Clean%20Architecture/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/IMG_4038.jpeg">
      <meta itemprop="name" content="Gamehu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正儿八经 - 资深Java/React工程师">
      <meta itemprop="description" content="10年经验Java开发者，精通React，熟悉Python、Docker、Vue及Go">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 正儿八经 - 资深Java/React工程师">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/06/04/Clean%20Architecture/" class="post-title-link" itemprop="url">The Clean Architecture</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-04 14:34:00" itemprop="dateCreated datePublished" datetime="2021-06-04T14:34:00+08:00">2021-06-04</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%B7%A5%E4%BD%9C/" itemprop="url" rel="index"><span itemprop="name">工作</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><a target="_blank" rel="noopener" href="https://www.phodal.com/blog/clean-frontend-architecture-in-action/">https://www.phodal.com/blog/clean-frontend-architecture-in-action/</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/WebHu/clean-frontend/tree/master/src/app">https://github.com/WebHu/clean-frontend/tree/master/src/app</a></p>
<p><a target="_blank" rel="noopener" href="https://phodal.github.io/clean-frontend/#clean-frontend-architecture%EF%BC%9A%E6%95%B4%E6%B4%81%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84">https://phodal.github.io/clean-frontend/#clean-frontend-architecture%EF%BC%9A%E6%95%B4%E6%B4%81%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84</a></p>
<p><a target="_blank" rel="noopener" href="https://medium.com/sharenowtech/front-end-architecture-making-rebuild-from-scratch-not-so-painful-7b2232dc1666#id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjZhMWQyNmQ5OTJiZTdhNGI2ODliZGNlMTkxMWY0ZTlhZGM3NWQ5ZjEiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJuYmYiOjE2MjMxMzU0NTUsImF1ZCI6IjIxNjI5NjAzNTgzNC1rMWs2cWUwNjBzMnRwMmEyamFtNGxqZGNtczAwc3R0Zy5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbSIsInN1YiI6IjExNzc4NDE0MDYzNzYyMDYwMjU0NSIsImVtYWlsIjoiZ2FtZWh1NTIwQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJhenAiOiIyMTYyOTYwMzU4MzQtazFrNnFlMDYwczJ0cDJhMmphbTRsamRjbXMwMHN0dGcuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJuYW1lIjoiR2FtZSBIdSIsInBpY3R1cmUiOiJodHRwczovL2xoMy5nb29nbGV1c2VyY29udGVudC5jb20vYS0vQU9oMTRHZ2IyRm1vcGVMX3BISDVGcGg1NWxSN0hNWlJKdDVZZlU1bndNRT1zOTYtYyIsImdpdmVuX25hbWUiOiJHYW1lIiwiZmFtaWx5X25hbWUiOiJIdSIsImlhdCI6MTYyMzEzNTc1NSwiZXhwIjoxNjIzMTM5MzU1LCJqdGkiOiIzZDlmOGE1ZDQ4YjVhNzU4NjE4OTU0MGUxNjhhNWE2MDY5MTgyNTFjIn0.PhtrQiCnK5BF7FUt8pXbs9iEnGe1myxq7jX_ddIqheaCtej9-Hg0vXb1fT179frQHFdMvSZVdUZclegeZBd-YuMIBYNnuDLu0aATYMNljPUjKGgbTllM0Fqe2RYZqJuFP7ij4_0yyeFsGodOIac6eNcrOliR7kVj61SV_dpHwy1oF_gT3Qr9Ci8GHGuFipm-YV0Sc0yqlPuNr8zIQAnPK-c7I2bN1Oc1O8ikaLLCpZasidUAmP22yvHehwcR6WvdjA8ZEKJAaUCBzoYQlFrxTD9onHx8MhDvf503h3J8ti3ss4IXTT9kz97K3-im5SVCIHrcjC61TYMFfUPaHZN95A">https://medium.com/sharenowtech/front-end-architecture-making-rebuild-from-scratch-not-so-painful-7b2232dc1666#id_token=eyJhbGciOiJSUzI1NiIsImtpZCI6IjZhMWQyNmQ5OTJiZTdhNGI2ODliZGNlMTkxMWY0ZTlhZGM3NWQ5ZjEiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJuYmYiOjE2MjMxMzU0NTUsImF1ZCI6IjIxNjI5NjAzNTgzNC1rMWs2cWUwNjBzMnRwMmEyamFtNGxqZGNtczAwc3R0Zy5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbSIsInN1YiI6IjExNzc4NDE0MDYzNzYyMDYwMjU0NSIsImVtYWlsIjoiZ2FtZWh1NTIwQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJhenAiOiIyMTYyOTYwMzU4MzQtazFrNnFlMDYwczJ0cDJhMmphbTRsamRjbXMwMHN0dGcuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20iLCJuYW1lIjoiR2FtZSBIdSIsInBpY3R1cmUiOiJodHRwczovL2xoMy5nb29nbGV1c2VyY29udGVudC5jb20vYS0vQU9oMTRHZ2IyRm1vcGVMX3BISDVGcGg1NWxSN0hNWlJKdDVZZlU1bndNRT1zOTYtYyIsImdpdmVuX25hbWUiOiJHYW1lIiwiZmFtaWx5X25hbWUiOiJIdSIsImlhdCI6MTYyMzEzNTc1NSwiZXhwIjoxNjIzMTM5MzU1LCJqdGkiOiIzZDlmOGE1ZDQ4YjVhNzU4NjE4OTU0MGUxNjhhNWE2MDY5MTgyNTFjIn0.PhtrQiCnK5BF7FUt8pXbs9iEnGe1myxq7jX_ddIqheaCtej9-Hg0vXb1fT179frQHFdMvSZVdUZclegeZBd-YuMIBYNnuDLu0aATYMNljPUjKGgbTllM0Fqe2RYZqJuFP7ij4_0yyeFsGodOIac6eNcrOliR7kVj61SV_dpHwy1oF_gT3Qr9Ci8GHGuFipm-YV0Sc0yqlPuNr8zIQAnPK-c7I2bN1Oc1O8ikaLLCpZasidUAmP22yvHehwcR6WvdjA8ZEKJAaUCBzoYQlFrxTD9onHx8MhDvf503h3J8ti3ss4IXTT9kz97K3-im5SVCIHrcjC61TYMFfUPaHZN95A</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html">https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html</a></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.gamehu.run/2021/05/25/%E7%BC%A9%E5%B0%8F%E5%B7%AE%E8%B7%9D/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/IMG_4038.jpeg">
      <meta itemprop="name" content="Gamehu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正儿八经 - 资深Java/React工程师">
      <meta itemprop="description" content="10年经验Java开发者，精通React，熟悉Python、Docker、Vue及Go">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 正儿八经 - 资深Java/React工程师">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/05/25/%E7%BC%A9%E5%B0%8F%E5%B7%AE%E8%B7%9D/" class="post-title-link" itemprop="url">缩小差距</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-25 14:34:00" itemprop="dateCreated datePublished" datetime="2021-05-25T14:34:00+08:00">2021-05-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%81%8C%E5%9C%BA/" itemprop="url" rel="index"><span itemprop="name">职场</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>有些膨胀了，看到了一篇介绍《缩小差距》书的文章，准备对OKR、KPI等企业考核机制做进一步了解，说不定有一天我就平步青云了呢不小心搞个世界500强的管理者当当，到时候可以参考这用用。在这儿做个记录。</p>
<p>前面还是开玩笑的，主要还是身为被考核者，想更深入的了解考核背后的一些东西。虽然内容看上去是从和消费者（顾客）角度来谈绩效，不过我认为其实可以套在公司内部技术团队里，比如上下级对应消费者与服务者的视角？或者反过来？</p>
<h3 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h3><p>组织内的各级管理者经常会发现问题，并直接跳到解决方案里去。很多时候，这些方案并不能解决任何问题,这是因为管理者没有找到问题的根本原因。《<a target="_blank" rel="noopener" href="https://book.douban.com/subject/1046260//">缩小差距</a>》这本书展现了一个近乎完美的模式，提供一个 无懈可击的思路。你会发现，探究深藏在”现实状况”和”应有水平” 之间差距的原因，是打开最佳解决方案的钥匙。</p>
<blockquote>
<p>其实这段内容不太符合我们公司，不是拍马屁，我们公司的管理层最不喜欢直接跳到解决方案里去，平常传递给我们的信息，先找根因，我之前的<a target="_blank" rel="noopener" href="http://gamehu.run/2019/08/23/%E6%A0%B9%E5%9B%A0%E5%88%86%E6%9E%90/">文章</a>有写。</p>
</blockquote>
<p>书中有个高频词语<strong>GAPS</strong>。</p>
<h4 id="GAPS"><a href="#GAPS" class="headerlink" title="GAPS"></a>GAPS</h4><p>GAPS不仅仅是一种模式和策略，它更代表一种全新的企业哲学。把它融入你的管理，你会发现一切变得水到渠成。</p>
<p>决定一个组织成败与否的一个至关重要因素就是人员的绩效。 这里所说的人员包括：工作者、决策者以及与顾客相互接触的人。如果他们能够高质量地完成工作，做出正确的决策，很好地对待顾客，组织就有机会生存,并且有可能兴 旺发达。</p>
<p>有许多因素包括组织的外部和内部因素一一影响人员的绩效。这些因素中，有些具有可控性，有些则是不可控的。</p>
<p>《<a target="_blank" rel="noopener" href="https://book.douban.com/subject/1046260//">缩小差距</a>》就是关于如何管理那些可控性因素的。它的主要内容是：如何找到那些对人的工作绩效具有消极影响的因素，并且消除它们。同时，《<a target="_blank" rel="noopener" href="https://book.douban.com/subject/1046260//">缩小差距</a>》的内容还包括；用系统的方法揭露并纠正这些因素，以使最 终的影响变得有意义，并且可测量。</p>
<p>每个人的生命中都会有许多美妙的时刻，所有这些时刻，更多的时候，是一种完美。完美是因为，在”现实 状况”和”应有水平”之间没有差距。</p>
<p>在今天飞速变化的商业环境中，管理者在面对问题时，通常是 在没有考虑问题的真正核心的情况下“直接跳到解决方案”。本书将 通过帮助组织中任何层次的人理解”差距战略”并把它应用于工作中， 从而使他们能够避免陷人那些具有破坏性的陷阱。</p>
<h4 id="chapter-1"><a href="#chapter-1" class="headerlink" title="chapter 1"></a>chapter 1</h4><p><strong>商业需要&#x3D;&gt;绩效需要，绩效需要&#x3D;&gt;工作环境和能力需要</strong>。换句话说，你们公司的客户服务代表应该以怎样更多、更好、更与众不同的行动来帮助你实现商业目的。”</p>
<img src="/2021/05/25/%E7%BC%A9%E5%B0%8F%E5%B7%AE%E8%B7%9D/a.png" class="">



<h4 id="朝〃应有水平’’前进"><a href="#朝〃应有水平’’前进" class="headerlink" title="朝〃应有水平’’前进"></a>朝〃应有水平’’前进</h4><blockquote>
<p>始终是”更多、更好、更不同”    上</p>
<p>向”应有水平”看齐</p>
<p>向”应有水平”前进</p>
</blockquote>
<p>“你得确定’应有水平’是什么。’应 有水平’是你首要的焦点问题，必须为之努力。现在看来，你有两个 ‘应有水平’，</p>
<p>第一个就是我听你说的定额标准：确定标准</p>
<p>第二种是行为的’应有水平：什么是需要做得更多、更好或 更不同的，期望得行为。</p>
<h4 id="做，还是不做"><a href="#做，还是不做" class="headerlink" title="做，还是不做"></a>做，还是不做</h4><ul>
<li>问可以自由回答的问题，收集有关消费者故障的信息</li>
<li>注意聆听，并且抓住问题的实质</li>
<li>基于消费者的情绪或感觉来调整对方的反应</li>
<li>在语气上不要表现出争论性，也不要具有攻击性或辩护性</li>
<li>在交谈的过程中经常提到顾客的名字</li>
<li>看出顾客期望从公司里得到什么,明确说明公司将要采取的行 动</li>
<li>提供一个解决问题的切实可行的时间期限</li>
<li>表现出耐心并且允许顾客发泄情绪</li>
<li>引导交谈重新回到正题轨道上，以缩短整个谈话的长度</li>
<li>为任何一个客户服务代表或公司的错误道歉</li>
</ul>
<h4 id="现实就是差距"><a href="#现实就是差距" class="headerlink" title="现实就是差距"></a>现实就是差距</h4><blockquote>
<p>目前我们在做的每一件事就 相当于”现实状况” “现实状况”就是差距所在！ 分析”现实状况”！</p>
</blockquote>
<p>你们不该直接跳到解决方案。相反，你要做的是，比较”现实状况’中的工作 绩效和。应有水平’中的工作绩效，以确定差距所在。”</p>
<h4 id="造成差距的原因"><a href="#造成差距的原因" class="headerlink" title="造成差距的原因"></a>造成差距的原因</h4><img src="/2021/05/25/%E7%BC%A9%E5%B0%8F%E5%B7%AE%E8%B7%9D/b.png" class="">

<h4 id="缺少的部分"><a href="#缺少的部分" class="headerlink" title="缺少的部分"></a>缺少的部分</h4><blockquote>
<p>“这件事用简单的四个字就可以概括：弄清原因。你永远不能、也不可能直接跳到解决方案，你得挖掘原因。很多时候，它们不会直接表露在面上。而是深藏在表皮之下。”</p>
</blockquote>
<img src="/2021/05/25/%E7%BC%A9%E5%B0%8F%E5%B7%AE%E8%B7%9D/c.png" class="">

<blockquote>
<p> 从某些方面来说， 是原因约束了我们。我们曾为了解决问题而苦苦奋斗，而不从实际上 挖掘根本的原因。我们知道了’应有水平’应该是什么样的，并且要组织中心团队来揭露和分析”现实状况”,但是我们却没有弄清楚原因来消除差距。”</p>
</blockquote>
<p>对正确的人以正确的方式问正确的问题，你就能够分析’现实状况’并弄清原因。你会很好地缩短’应有水平’和’现实状况’之间的差距。</p>
<img src="/2021/05/25/%E7%BC%A9%E5%B0%8F%E5%B7%AE%E8%B7%9D/d.png" class="">

<h4 id="从原因到解决方案"><a href="#从原因到解决方案" class="headerlink" title="从原因到解决方案"></a>从原因到解决方案</h4><img src="/2021/05/25/%E7%BC%A9%E5%B0%8F%E5%B7%AE%E8%B7%9D/e.png" class="">

<p><code>本文引用的内容，如有侵权请联系我删除，给您带来的不便我很抱歉。</code></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://www.gamehu.run/2021/05/21/React-Hooks-%E4%BA%8C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/IMG_4038.jpeg">
      <meta itemprop="name" content="Gamehu">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="正儿八经 - 资深Java/React工程师">
      <meta itemprop="description" content="10年经验Java开发者，精通React，熟悉Python、Docker、Vue及Go">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | 正儿八经 - 资深Java/React工程师">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/05/21/React-Hooks-%E4%BA%8C/" class="post-title-link" itemprop="url">React Hooks(二)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-05-21 09:45:00" itemprop="dateCreated datePublished" datetime="2021-05-21T09:45:00+08:00">2021-05-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%89%8D%E7%AB%AF/" itemprop="url" rel="index"><span itemprop="name">前端</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><a target="_blank" rel="noopener" href="https://medium.com/geekculture/useimperativehandle-by-examples-99cbdc8e3c3a">https://medium.com/geekculture/useimperativehandle-by-examples-99cbdc8e3c3a</a></p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/57005663/when-to-use-useimperativehandle-uselayouteffect-and-usedebugvalue">https://stackoverflow.com/questions/57005663/when-to-use-useimperativehandle-uselayouteffect-and-usedebugvalue</a></p>
<p>Allow me to preface this answer by stating that all of these hooks are very rarely used. 99% of the time, you won’t need these. They are only meant to cover some rare corner-case scenarios.</p>
<p>useImperativeHandle<br>Usually when you use useRef you are given the instance value of the component the ref is attached to. This allows you to interact with the DOM element directly.</p>
<p>useImperativeHandle is very similar, but it lets you do two things:</p>
<p>It gives you control over the value that is returned. Instead of returning the instance element, you explicitly state what the return value will be (see snippet below).<br>It allows you to replace native functions (such as blur, focus, etc) with functions of your own, thus allowing side-effects to the normal behavior, or a different behavior altogether. Though, you can call the function whatever you like.<br>There could be many reasons you want might to do either of the above; you might not want to expose native properties to the parent or maybe you want to change the behavior of a native function. There could be many reasons. However, useImperativeHandle is rarely used.</p>
<p>useImperativeHandle customizes the instance value that is exposed to parent components when using ref</p>
<p>Example</p>
<p>In this example, the value we’ll get from the ref will only contain the function blur which we declared in our useImperativeHandle. It will not contain any other properties (I am logging the value to demonstrate this). The function itself is also “customized” to behave differently than what you’d normally expect. Here, it sets document.title and blurs the input when blur is invoked.</p>
<p>Show code snippet</p>
<p>useLayoutEffect<br>While similar to some extent to useEffect(), it differs in that it will run after React has committed updates to the DOM. Used in rare cases when you need to calculate the distance between elements after an update or do other post-update calculations &#x2F; side-effects.</p>
<p>The signature is identical to useEffect, but it fires synchronously after all DOM mutations. Use this to read layout from the DOM and synchronously re-render. Updates scheduled inside useLayoutEffect will be flushed synchronously, before the browser has a chance to paint.</p>
<p>Example</p>
<p>Suppose you have a absolutely positioned element whose height might vary and you want to position another div beneath it. You could use getBoundingCLientRect() to calculate the parent’s height and top properties and then just apply those to the top property of the child.</p>
<p>Here you would want to use useLayoutEffect rather than useEffect. See why in the examples below:</p>
<p>With useEffect: (notice the jumpy behavior)</p>
<p>Show code snippet</p>
<p>With useLayoutEffect:</p>
<p>Show code snippet</p>
<p>useDebugValue<br>Sometimes you might want to debug certain values or properties, but doing so might require expensive operations which might impact performance.</p>
<p>useDebugValue is only called when the React DevTools are open and the related hook is inspected, preventing any impact on performance.</p>
<p>useDebugValue can be used to display a label for custom hooks in React DevTools.</p>
<p>I have personally never used this hook though. Maybe someone in the comments can give some insight with a good example.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/20/">20</a><a class="extend next" rel="next" href="/page/8/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Gamehu</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/mist/" rel="noopener" target="_blank">NexT.Mist</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.0/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>





  





  <script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.js"></script>
  <script>
      pbOptions = {};
        pbOptions.iconStyle = "box";
        pbOptions.boxForm = "horizontal";
        pbOptions.position = "bottomCenter";
        pbOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      new needShareButton('#needsharebutton-postbottom', pbOptions);
  </script>
</body>
</html>
